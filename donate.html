<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Донат на сервер mc.WarNight.net</title>
  <link rel="stylesheet" href="/_s.css">
</head>
<body>
<script src="/_h.js"></script>
<div class="_wrap">
  <h1 class="_pageTitle">Донат на mc.WarNight.net</h1>
  <p class="_lede">Поддержите сервер и получите привилегии. Оплата защищена, доставка мгновенная.</p>

  <form class="_donate" onsubmit="pay();return false;">
    <div class="_field">
      <label for="nick">Minecraft никнейм</label>
      <input id="nick" autocomplete="nickname" placeholder="Никнейм">
    </div>

    <div class="_field">
      <label for="rank">Выберите привилегию</label>
      <select id="rank">
        <option value="1 2.99">VIP — $2.99</option>
        <option value="2 4.99">Lord — $4.99</option>
        <option value="3 9.99">Lord+ — $9.99</option>
        <option value="4 29.99">Владелец — $29.99</option>
        <option value="5 49.99">WarNight — $49.99</option>
      </select>
    </div>

    <button type="submit">Оплатить</button>
  </form>

  <div class="_section">
    <h3>Дополнительные товары</h3>
    <div class="_goods">
      <a href="/shop/6" class="_card">
        <img src="/shop/6.avif" width="200" alt="Ключ Mega Hack v9">
        <div class="_price">$7.99</div>
        <div class="_name">Ключ Mega Hack v9</div>
      </a>

      <a href="/shop/7" class="_card">
        <img src="/shop/7.avif" width="200" alt="Ключ GDH">
        <div class="_price">$4.99</div>
        <div class="_name">Ключ GDH</div>
      </a>
    </div>
  </div>
</div>

<script>
async function pay(){
  const n = nick.value.trim()
  if(!n) return alert("Введите ник")
  const [id, price] = rank.value.split(" ")
  const res = await fetch("/api/np",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({amount:+price,desc:id+" "+n})
  })
  location = await res.text()
}
</script>

<script src="/_f.js"></script>
</body>
</html>
