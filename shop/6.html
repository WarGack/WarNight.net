<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Ключ Mega Hack v9</title>
  <link rel="stylesheet" href="/_s.css">
</head>
<body>
<script src="/_h.js"></script>
<div class="_wrap">
  <h1 class="_pageTitle">Ключ Mega Hack v9</h1>
  <div class="_lede">Цифровой ключ с моментальной доставкой на email.</div>

  <div class="_productInfo">
    <img src="/shop/6.avif" width="300" alt="Ключ Mega Hack v9">
    <div class="_price">$7.99</div>
  </div>

  <form class="_productActions" onsubmit="pay();return false;">
    <div class="_field">
      <label for="email">Email для получения ключа</label>
      <input id="email" type="email" autocomplete="email" placeholder="you@example.com">
    </div>

    <div class="_field">
      <label for="qty">Количество</label>
      <select id="qty">
        <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
        <option>6</option><option>7</option><option>8</option><option>9</option><option>10</option>
      </select>
    </div>

    <button type="submit">Оплатить</button>
  </form>
</div>

<script>
async function pay(){
  const e = email.value.trim()
  if(!e) return alert("Введите email")
  const q = +qty.value
  const res = await fetch("/api/np",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({amount:+(7.99*q).toFixed(2),desc:`6x${q} ${e}`})
  })
  location = await res.text()
}
</script>

<script src="/_f.js"></script>
</body>
</html>
